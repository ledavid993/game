@import 'tailwindcss';

@layer base {
  :root {
    /* Manor palette */
    --manor-midnight: #090b10;
    --manor-shadow: #111622;
    --manor-wine: #40131f;
    --manor-ember: #b1361e;
    --manor-candle: #f7d7a1;
    --manor-parchment: #d8c7a1;
    --manor-ivy: #3f4f44;

    /* Legacy values for optional seasonal themes */
    --color-primary: #c41e3a;
    --color-secondary: #165b33;
    --color-accent: #ffd700;
    --color-background: var(--manor-parchment);
    --color-text: #0f172a;
    --color-murderer: #dc2626;
    --color-civilian: #16a34a;
    --color-dead: #6b7280;

    /* Spacing for different screen sizes */
    --spacing-mobile: 1rem;
    --spacing-tablet: 1.5rem;
    --spacing-tv: 2rem;
  }

  [data-theme='halloween'] {
    --color-primary: #ff6b35;
    --color-secondary: #2d1b69;
    --color-accent: #ffa500;
    --color-background: #1a1a1a;
    --color-text: #f8f8f8;
    --color-murderer: #dc2626;
    --color-civilian: #16a34a;
    --color-dead: #6b7280;
  }

  body {
    background:
      radial-gradient(circle at top, rgba(177, 54, 30, 0.4), transparent 55%),
      linear-gradient(160deg, var(--manor-midnight) 0%, var(--manor-shadow) 50%, #040508 100%);
    color: var(--manor-candle);
    font-family:
      var(--font-lato, 'Lato'),
      -apple-system,
      BlinkMacSystemFont,
      'Segoe UI',
      Roboto,
      sans-serif;
  }

  * {
    box-sizing: border-box;
  }
}

@layer components {
  /* Snowfall effect for Christmas theme */
  .snowfall {
    position: fixed;
    top: 0;
    left: 0;
    width: 100vw;
    height: 100vh;
    pointer-events: none;
    z-index: 1;
  }

  .snowflake {
    position: absolute;
    color: rgba(255, 255, 255, 0.8);
    user-select: none;
    pointer-events: none;
    animation: snowfall 10s linear infinite;
  }

  /* Manor cards */
  .manor-card {
    @apply rounded-2xl border border-white/10 p-6 shadow-[0_25px_45px_-20px_rgba(0,0,0,0.85)] backdrop-blur;
    background-image:
      radial-gradient(circle at top left, rgba(221, 170, 104, 0.22), transparent 45%),
      radial-gradient(circle at bottom right, rgba(148, 22, 36, 0.32), transparent 55%),
      linear-gradient(135deg, rgba(12, 15, 24, 0.92), rgba(19, 16, 25, 0.85));
  }

  .manor-card--accent {
    @apply border-manor-ember/40 shadow-[0_28px_50px_-18px_rgba(177,54,30,0.6)];
  }

  .manor-divider {
    background-image: linear-gradient(90deg, transparent, rgba(247, 215, 161, 0.75), transparent);
    height: 1px;
    width: 100%;
  }

  /* Player status indicators */
  .player-alive {
    @apply bg-green-100 border-green-300 text-green-800;
  }

  .player-dead {
    @apply bg-red-100 border-red-300 text-red-800 opacity-75;
  }

  .player-murderer {
    @apply bg-red-50 border-red-400;
  }

  .player-civilian {
    @apply bg-green-50 border-green-400;
  }

  /* Button styles */
  .btn-primary {
    @apply bg-manor-ember hover:bg-manor-wine text-white font-semibold tracking-wide uppercase
           py-3 px-6 rounded-lg shadow-[0_18px_30px_-12px_rgba(177,54,30,0.55)]
           hover:shadow-[0_22px_36px_-12px_rgba(177,54,30,0.75)] transition-all duration-200;
  }

  .btn-secondary {
    @apply bg-manor-ivy hover:bg-[#2b3a31] text-white font-semibold py-3 px-6 rounded-lg transition-all duration-200;
  }

  .btn-danger {
    @apply bg-red-700 hover:bg-red-800 text-white font-semibold py-3 px-6 rounded-lg transition-transform duration-200;
  }

  /* TV optimized styles */
  .tv-display {
    @apply text-2xl leading-relaxed;
  }

  /* Mobile optimized styles */
  .mobile-touch {
    @apply min-h-[48px] min-w-[48px] text-lg;
  }

  /* Live feed animations */
  .kill-announcement {
    @apply animate-bounce-slow bg-red-500 text-white p-4 rounded-lg shadow-lg;
  }

  .fade-in {
    animation: fadeIn 0.5s ease-in-out;
  }

  .fade-out {
    animation: fadeOut 0.5s ease-in-out;
  }

  /* Cooldown timer */
  .cooldown-timer {
    @apply relative overflow-hidden bg-gray-200 rounded-full h-4;
  }

  .cooldown-progress {
    @apply bg-red-500 h-full transition-all duration-1000 ease-linear;
  }

  /* Glass morphism effect */
  .glass {
    @apply bg-white bg-opacity-10 backdrop-blur-md border border-white border-opacity-20 rounded-xl shadow-xl;
  }

  /* Responsive grid for player display */
  .player-grid {
    @apply grid gap-4;
    grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
  }
}

@layer utilities {
  /* Custom scrollbar for dark theme */
  .custom-scrollbar {
    scrollbar-width: thin;
    scrollbar-color: var(--color-primary) var(--color-background);
  }

  .custom-scrollbar::-webkit-scrollbar {
    width: 8px;
  }

  .custom-scrollbar::-webkit-scrollbar-track {
    background: var(--color-background);
  }

  .custom-scrollbar::-webkit-scrollbar-thumb {
    background-color: var(--color-primary);
    border-radius: 4px;
  }

  /* Animations */
  @keyframes fadeIn {
    from {
      opacity: 0;
      transform: translateY(20px);
    }
    to {
      opacity: 1;
      transform: translateY(0);
    }
  }

  @keyframes fadeOut {
    from {
      opacity: 1;
      transform: translateY(0);
    }
    to {
      opacity: 0;
      transform: translateY(-20px);
    }
  }

  /* Hide scrollbar but keep functionality */
  .hide-scrollbar {
    -ms-overflow-style: none;
    scrollbar-width: none;
  }

  .hide-scrollbar::-webkit-scrollbar {
    display: none;
  }

  /* Full viewport height accounting for mobile browsers */
  .min-h-screen-mobile {
    min-height: 100vh;
    min-height: 100dvh;
  }
}
